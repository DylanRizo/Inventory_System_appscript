<!-- MODAL DE TRANSFERENCIA ENTRE UBICACIONES -->
<div id="modalTransferencia" class="modal-overlay">
  <div class="modal-venta">
    <div class="modal-venta-header">
      <h2> Transferencia de Stock</h2>
      <button class="close-modal" onclick="cerrarModalTransferencia()">&times;</button>
    </div>

    <form id="formTransferencia" onsubmit="registrarTransferencia(event)">
      <div class="modal-venta-body">

        <!-- SECCIN: INFORMACIN DEL PRODUCTO -->
        <div class="modal-section">
          <div class="modal-section-title"> Producto a Transferir</div>
          <div class="form-grid">
            <div class="form-group">
              <label class="required-field">C贸digo del Producto</label>
              <div class="autocomplete-venta-container">
                <input type="text" 
                       id="transfCodigo" 
                       placeholder="Ingrese el c贸digo" 
                       required 
                       onkeyup="buscarProductoTransferencia()"
                       onblur="setTimeout(() => ocultarAutocompleteTransferencia(), 200)">
                <div id="autocompleteTransferencia" class="autocomplete-venta-dropdown"></div>
              </div>
            </div>
            <div class="form-group">
              <label class="required-field">Cantidad a Transferir</label>
              <input type="number" 
                     id="transfCantidad" 
                     min="0.01" 
                     step="0.01" 
                     placeholder="0.00" 
                     required>
            </div>
          </div>
        </div>

        <!-- SECCIN: UBICACIONES -->
        <div class="modal-section">
          <div class="modal-section-title"> Ubicaciones</div>
          <div class="form-grid">
            <div class="form-group">
              <label class="required-field">Desde (Origen)</label>
              <select id="transfUbicacionOrigen" required onchange="validarUbicaciones()">
                <option value="">Seleccione ubicaci贸n origen...</option>
              </select>
            </div>
            <div class="form-group">
              <label class="required-field">Hacia (Destino)</label>
              <select id="transfUbicacionDestino" required onchange="validarUbicaciones()">
                <option value="">Seleccione ubicaci贸n destino...</option>
              </select>
            </div>
          </div>
          <div id="errorUbicaciones" class="error-message" style="display: none; color: #e74c3c; margin-top: 10px;">
            锔 Las ubicaciones de origen y destino deben ser diferentes
          </div>
        </div>

        <!-- SECCIN: FECHA Y OBSERVACIONES -->
        <div class="modal-section">
          <div class="form-grid">
            <div class="form-group">
              <label class="required-field">Fecha</label>
              <input type="date" id="transfFecha" required>
            </div>
          </div>
          <div class="form-group">
            <label>Observaciones</label>
            <textarea id="transfObservaciones" rows="3" placeholder="Motivo de la transferencia, notas adicionales..."></textarea>
          </div>
        </div>

      </div>

      <div class="modal-venta-footer">
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" onclick="cerrarModalTransferencia()">Cancelar</button>
          <button type="submit" class="btn btn-primary"> Transferir Stock</button>
        </div>
      </div>
    </form>
  </div>
</div>